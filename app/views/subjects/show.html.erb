<div class = "container center-block">
  <h1><%= @subject.title %></h1>
</div>


<div class = "flex-row-container">
  <div class = "col-8 box">
    <h2>Lists</h2>

    <div class = "lists">
    <% @subject.lists.each_with_index do |list, index| %>
      <div class = "col-6">
      <div class = "box" id = "<%= dom_id(list) %>">
        <%= render partial: list, locals: { subject: @subject, last_index: true } %>
      </div>
      </div>
    <% end %>
    </div>
    
    <% if current_user.is_teacher? %>   
      <div class = "col-6"> 
      <%= form_for [@subject, List.new], remote: true do |f| %>
        <%= f.text_field :title, placeholder: "Add List Here...", class: "form-control" %>
      <% end %>
      </div>
    <% end %>
  </div>

  <% if current_user.is_teacher? %>
  <div class = "col-4">
    <div class = "box">
      <h2>Enrolled Students</h2>

      <%= link_to "Edit", edit_students_subject_path(@subject) %>
      
      <ul class = "students">
      <% @subject.users.each do |user| %>
        <% if user.is_student? %>
          <li><%= user.name %></li>
        <% end %>
      <% end %>
     </ul>
    </div>
  </div>
  <% end %>
</div>
